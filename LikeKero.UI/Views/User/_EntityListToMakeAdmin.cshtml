@{ 
    
var versionName = Context.Session.GetString("SessionVersionName");
    string sessionVersion = versionName == null ? "" : Newtonsoft.Json.JsonConvert.DeserializeObject<string>(versionName);
    string imgPath = string.IsNullOrEmpty(sessionVersion) ? "" : "/" + sessionVersion;
}
<style type="text/css">
    .userpagetbl table thead th {
        padding-top: 0 !important;
        padding-bottom: 5px !important
    }
</style>
<div class="border-bottom mb5"></div>
<div class="row  mt-3">
    <div class="col-lg-12">
        <div class="pull-left">
            <div id="divDataTable_length_Grp"></div>
        </div>
        <div class="pull-right">
            <ul class="formGroupTopListing pos">
                <li class="width210">
                    <div class="form-group">
                        <input type="text" class="form-control clsGroupSearch" id="GroupNameToMakeAdmin" placeholder="Group" />
                    </div>
                </li>
                <li>
                    <div class="form-group">
                        <button type="button" class="btn btn-primary btn-search btnSearch" id="btnSearchGrp">
                            <img src='@Url.Content("~/images"+imgPath+"/search.png")' />
                        </button>
                    </div>
                </li>
                <li>
                    <div class="form-group">
                        <button type="button" class="btn btn-default btn-clear" id="btnClearGrp"><img src='@Url.Content("~/images"+imgPath+"/refresh.png")' /></button>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="chkTBL userpagetbl">
    <div class="bulkImpLogHT max-height200">
        <table id="mydatatable_grp" class="table">
            <thead>
                <tr>
                    <th>Group Name</th>
                    <th></th>
                    <th>UserIdHidden</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>
<div id="divdataTables_info_Grp"></div>

<script type="text/javascript">
    $(document).ready(function () {
        var userId = $("#hdUserId").val();

       $("#mydatatable_grp").tableHeadFixer({ "head": true, "top": 1 });
        switchActiveInactive();
        var langUrl = $("#LangUrl").val();
        var mytable_grp = $('#mydatatable_grp').dataTable({
            "ajax": {
                "url": "@Url.Content("~/User/FillTableEntityListToMakeAdmin")?UserId=" + userId,
                "type": "POST",
                "error": function (x, y, z) {
                }
            },
            "language":
            {
                "url": langUrl
            },
            "aaSorting": [[0, 'asc']],
            "pageLength": 50,
            "serverSide": true,
            "bStateSave": false,
            // "pagingType": "listbox",  //pagination type using pulgin
            "processing": true,
            "pagingType": "full_numbers",  //pagination type using pulgin
            "dom": '<"top"i>rt<"bottom"flp><"clear">',
            "filter": false,
            "oLanguage": {
                "oPaginate": {
                    "sFirst": "<i class='fa fa-angle-double-left'></i>",
                    "sPrevious": "«",
                    "sNext": "»",
                    "sLast": "<i class='fa fa-angle-double-right'></i>"
                }
            },
            //"sDom": 'lrtip',
            "bDeferRender": true,//hide the default search filter textbox by removing "f"
            "aoColumns":
                [

                    { "data": "GroupName", "sName": "GroupName" },
                    {
                        "data": "GroupId", "sName": "", "class": "", "orderable": false, "mRender": function (data, type, full) {
                            if (data != null) {
                                return "<button class='btnMakeAdmin btn btn-primary' data-groupId='" + data + "' data-GroupLevel = '" + full.GroupLevel + "'>Add</button>";
                            }
                            else
                                return "";
                        }
                    },
                    { "data": "UserId", "sName": "UserId", "visible": false }

                ]
        });
        mytable_grp.on('order.dt', function () { $('#mydatatable_grp_paginate,#mydatatable_grp_info').show(); });
        mytable_grp.on('length.dt', function (e, settings, len) { $('#mydatatable_grp_paginate,#mydatatable_grp_info').show(); });

        $("#divDataTable_length_Grp").append($("#mydatatable_grp_info"));
        $("#divdataTables_info_Grp").append($("#mydatatable_grp_length"));
        $("#divdataTables_info_Grp").append($("#mydatatable_grp_paginate"));

        function fnGetDataForActivities() {
            if ($("#Group1Name").val() == "") {
                $("#hdSelectedGroup").val('')
            }
            var searchObj = new Object();
            searchObj.GroupName = $('#GroupNameToMakeAdmin').val();
            searchObj.UserId = $("#hdUserId").val();

            return searchObj;
        }

        function fnFilterActivities(val) {
            searchObj = fnGetDataForActivities();
            $("#mydatatable_grp").dataTable().fnMultiFilter({
                "GroupName": searchObj.GroupName,
                "UserId": searchObj.UserId
            });

        }

        function clearfilter() {
            $('#GroupNameToMakeAdmin').val('');
            fnFilterActivities();
        }

        $('#btnClearGrp').click(function () {
            clearfilter();
        });

        $("#GroupNameToMakeAdmin").keyup(function (e) {
            if (e.which  == 13) {
                fnFilterActivities();
            }
        });

        $('#btnSearchGrp').click(function () {
            fnFilterActivities(false);
        });


        $('#mydatatable_grp tbody').on('click', '.btnMakeAdmin', function (e) {
            var UserId = $("#hdUserId").val();
            var GroupId = $(this).attr('data-groupId');
            var groupLevel = $(this).attr('data-GroupLevel');
            var url = '@Url.Action("MakeGroupAdmin","User")?GroupId=' + encodeURI(GroupId) + '&UserId=' + encodeURI(UserId) + "&GroupLevel=" + groupLevel + "";
            e.preventDefault();
             $.ajax({
                url: url,
                type: "POST",
                dataType: "json",
                success: function (data) {
                    $("#divUserRoles").load('@Url.Action("UserRoleListData", "User")?UserId=' + encodeURI(UserId), function () {
                        $('#btnSearchGrp').trigger('click');
                        $("#btnSearch1").trigger('click');
                    });
                }
            });
        });
    });
</script>